{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2006-08-08-dummies-guide-to-dvdcd-writer-on-linux/","result":{"data":{"site":{"siteMetadata":{"title":"Lambdacurry"}},"markdownRemark":{"id":"282d2c9d-bacd-50b7-8af1-7760ee0b170c","excerpt":"After reading countless docs and tutorials, I have been able to get my DVD and CD writer working on an ancient Linux version - Redhat 7.2 Here’s the story of my…","html":"<p>After reading countless docs and tutorials, I have been able to get my DVD and CD writer working on an ancient Linux version - Redhat 7.2</p>\n<p>Here’s the story of my travails:</p>\n<p>So basically, to use any CD/DVD writer on Linux, you need to turn on SCSI emulation. This is because the <strong>standard</strong> application - <em>cdrecord</em> - works with SCSI drivers <strong>ONLY.</strong></p>\n<p>To get around this problem, you need a wrapper driver called <em><strong>ide-scsi</strong></em> loaded up and you need to tell your linux kernel to start your CD device in SCSI emulation mode.</p>\n<p>First you need to find out which directory in your “/dev” maps to the CD device. Grep for CD, DVD, ATAPI in your /var/log/messages You should see a line like this</p>\n<blockquote>\n<p>hda: HL-DT-ST DVD+/-RW GWA4164B, ATAPI CD/DVD-ROM drive</p>\n</blockquote>\n<p>So, in your grub.conf append the lines</p>\n<blockquote>\n<p>kernel /bzImage-2.4.32 ro root=/dev/sda7 hdc=ide-scsi hda=ide-scsi</p>\n</blockquote>\n<p>And in your /etc/modules.conf add the lines</p>\n<blockquote>\n<p>alias scsi_hostadapter ide-scsi</p>\n</blockquote>\n<p>It means that the /dev/hda DVD device should now be emulated as scsi (in my case I had another device as SCSI too, ergo the hdc=ide-scsi) Now reboot. if you now do a ls -l on your /dev/cdrom, you should be able to see something like</p>\n<blockquote>\n<p>lrwxrwxrwx 1 root root 9 Jul 26 12:44 /dev/cdrom -> /dev/scd0</p>\n</blockquote>\n<p>Your new SCSI emulated drive is /dev/scd0. Also remember to change appropriate entries in your /etc/fstab (if any).</p>\n<p>In addition, you need to have the <strong><em>sr.o</em></strong> and <strong><em>sg.o</em></strong> modules loaded - these are to tell the SCSI device to behave as a block device (to write to it). Try locating <em><strong>sr.o</strong></em> and <strong><em>sg.o</em></strong> . If you cannot find it, you may need to build it from your linux source (in /usr/src/linux-2.4 ). Do a <strong><em>make menuconfig</em></strong>  in your linux source and go to <strong><em>SCSI support</em></strong> . Check <strong>SCSI disk support</strong>&#x3C;*>, <strong>SCSI tape support</strong> <M>, <strong>SCSI CDROM support</strong><M>, <strong>SCSI generic support</strong> <M>.  Then do <strong><em>make modules</em></strong> . The sr.o and sg.o modules should be built.</p>\n<p>Add the following lines to your /etc/modules.conf</p>\n<blockquote>\n<p>alias character_scsi sg alias driver_scsi sr</p>\n</blockquote>\n<p><strong>NOTE:</strong> sometimes the order of these lines added to /etc/modules.conf is important, if on your next reboot, things dont work then make sure to do modprobe by hand</p>\n<p>Now, we need to see if your DVD drive is accessible. Run <strong><em>cdrecord -scanbus</em></strong> . You should see something like</p>\n<blockquote>\n<p>Linux sg driver version: 3.1.25 Using libscg version ‘schily-0.7’ cdrecord: Warning: using inofficial libscg transport code version (schily - Red Hat-scsi-linux-sg.c-1.75-RH ’@(#)scsi-linux-sg.c 1.75 02/10/21 Copyright 1997 J. Schilling’). scsibus0: 0,0,0 0) ” ” ” Disk 0,1,0 1) ” ” ” Disk 0,2,0 2) * 0,3,0 3) * 0,4,0 4) * 0,5,0 5) * 0,6,0 6) * 0,7,0 7) *</p>\n</blockquote>\n<p>This means your CD drive is working fine. Note that you might have to be root to run <strong><em>cdrecord</em></strong> at this time, we will change that shortly.</p>\n<p>Now, as far as CD writing goes, you are good to go - there are a million docs on that (my favorite is at <a href=\"http://yolinux.com/TUTORIALS/LinuxTutorialCDBurn.html\">Yolinux</a>) I first create an ISO using <strong><em>mkisofs</em></strong> and then I usually do</p>\n<blockquote>\n<p>cdrecord -v -speed=2 RedHat-7.0-i386-powertools.iso</p>\n</blockquote>\n<p>About DVD writers - now there is a commercial version of cdrecord called <strong><em>cdrecord-prodvd</em></strong> which has a lot of funky licenses and is not opensource. It also has a lot of features. But the thing I use and has worked for burning a lot of DVD’s is <strong><em>growisofs</em></strong>. This is opensource and developed by <a href=\"http://fy.chalmers.se/~appro/linux/DVD+RW/\">Andy Polyakov of Chalmers.</a> I compiled and built it on my machine. I usually do</p>\n<blockquote>\n<p>growisofs -dvd-compat -speed=2 -Z /dev/&#x3C;name_of_dvd_device> -R -J -pad /dir-path/file1</p>\n</blockquote>\n<p>Now, it so happens that the DVD device on my machine used to be unwritable(by anyone except root) as soon as a DVD was put in it - the culprit was the file <strong><em>/etc/security/console.perms</em></strong>. This changed the permissions to read-only as soon as something was put in. I changed a line</p>\n<blockquote>\n<p><console> 0600 <cdrom> 0660 root.disk</p>\n</blockquote>\n<p>And everything was fine.</p>\n<p>Whew.. hope that helps.</p>\n<p>del.icio.us Tags: <a href=\"http://del.icio.us/sss8ue/linux\">linux</a> <a href=\"http://del.icio.us/sss8ue/dvd\">dvd</a></p>","frontmatter":{"title":"Dummies Guide to DVD/CD writer on Linux","date":"August 08, 2006"}}},"pageContext":{"slug":"/blog/2006-08-08-dummies-guide-to-dvdcd-writer-on-linux/","previous":{"fields":{"slug":"/blog/2006-07-24-only-the-paranoid-survive/"},"frontmatter":{"title":"Only the paranoid survive?"}},"next":{"fields":{"slug":"/blog/2006-09-21-the-poincare-conjecture/"},"frontmatter":{"title":"The Poincare Conjecture"}}}},"staticQueryHashes":["2778469899","2841359383","2882394463","3616023293"]}