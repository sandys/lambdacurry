{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2005-07-26-weird-tcl-behavior-on-cygwinmingw/","result":{"data":{"site":{"siteMetadata":{"title":"Lambdacurry"}},"markdownRemark":{"id":"85a760fb-b642-5515-9bba-817301355327","excerpt":"A C++ program compiled with TCL stubs, which performs just fine on Linux, just seems to go out without a sound on Cygwin. TCL_LIBRARY was set properly (also…","html":"<p>A C++ program compiled with TCL stubs, which performs just fine on Linux, just seems to go out without a sound on Cygwin. TCL_LIBRARY was set properly (also tried the  </p>\n<blockquote>\n<p>“export TCL_LIBRARY=$(cygpath -w /usr/share/tcl8.4)”</p>\n</blockquote>\n<p>hack). But the execution just seems to vanish after a call to Tcl_Init(). Now internally, Tcl_Init parses a whole load of stuff, starting from init.tcl.<br>\nAlso tried a weird hack that changes the “tclPreInitScript” variable to help set the $tcl_library variable, et al. But nothing helped.<br>\nOn debugging the executable in gdb, the call to Tcl_Init returns a segfault, which is not visible on a normal run.<br>\nThe solution to this mystery is a simple call to  </p>\n<blockquote>\n<p>“Tcl_FindExecutable(argv[0])”</p>\n</blockquote>\n<p>, which sets up some internal variables for use by tcl. Now since in cygwin there are two paths (the /usr type path and the /cygdrive/usr path) for all resources, this helps initialise everything correctly. I almost did’nt try this solution.<br>\nBut it works!!!</p>\n<p>del.icio.us Tags: <a href=\"http://del.icio.us/sss8ue/software\">software</a></p>","frontmatter":{"title":"Weird TCL behavior on Cygwin/MinGW","date":"July 26, 2005"}}},"pageContext":{"slug":"/blog/2005-07-26-weird-tcl-behavior-on-cygwinmingw/","previous":{"fields":{"slug":"/blog/2005-07-25-rtl-signoff-when-will-it-happen/"},"frontmatter":{"title":"RTL Signoff - When will it happen?"}},"next":{"fields":{"slug":"/blog/2005-07-30-mumbai-meri-jaan/"},"frontmatter":{"title":"Mumbai meri jaan"}}}},"staticQueryHashes":["2778469899","2841359383","2882394463","3616023293"]}